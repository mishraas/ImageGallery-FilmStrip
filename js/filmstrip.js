(function ($) {	"use strict";	$.FilmStrip = function (opts) {		var options = {			data: '',			featureImgUrl: '',		},		loadSectionbyHash = true,		generateFilmStrip,		setUpEvents,		onFocusAnimate,		onFocusOutAnimate;		options = $.extend(options, opts);		generateFilmStrip = function () {			$.each(options.data, function (index, section) {				//Creating film strip container and body.				var spanSection = $('<span id="spanSection-' + section.name + '" class="spanSection" >' +						section.name + '</span>'),					imgSection = $('<img id="imgSection-' + section.name + '" class="imgSection" src="' +								options.featureImgUrl.concat(section.image) + '" onerror="$.FilmStrip().imageNotFound(this, \''+options.featureImgUrl+'\')" />'), //alt="' + section.name + '"								sectionSelector = $('<span id="divSection-' + section.name + '" class="divSectionImage"></span>')								.append(spanSection)								.append(imgSection),								locationHash = window.location.hash.toLowerCase();				//Click handler for film strip container				sectionSelector.click(function () {					if (!$('#divSection-' + section.name).hasClass('selected')) {						window.location.hash = section.name.toLowerCase();						var $banner = $('.img-banner');						$banner.stop().animate({							opacity:0.3						}, 500, function(){								$banner.attr('src', options.featureImgUrl.concat(section.image));								$banner.on('error', function(){									$.FilmStrip().imageNotFound($banner, options.featureImgUrl);								});								$banner.stop().animate({opacity:1}, 500);							});						//Add the class "selected" to the current selected strip and remove from the previous selected one.					var	selectedSection = $('#feature-sections .selected');						/* If the section that is selected is not same as the section that is already selected then the animation						   for that particular section will be performed. */						if ($(selectedSection[0]).attr('id') !== $(this).attr('id')) {							onFocusOutAnimate(selectedSection);						}						selectedSection.removeClass('selected');						$(this).addClass('selected');						if ($(this).hasClass('hover')) {							$(this).removeClass('hover');						}						onFocusAnimate($(this));					}				});				//On mouseover the animation that will take effect.				sectionSelector.hover(function () {   //on mouse over					var divSections = $('#feature-sections .divSectionImage');					$.each(divSections, function (index, divSectionImage) {						if ($(divSectionImage).hasClass('hover')  && !$(divSectionImage).hasClass('selected')) {							$(divSectionImage).removeClass('hover');							onFocusOutAnimate($(divSectionImage));						}					});					if ($(this).hasClass('selected')) {						$(this).addClass("hover");						onFocusAnimate($(this));					}					else {						var selectedSection = $('#feature-sections .selected');						onFocusOutAnimate($(selectedSection));						$(this).addClass("hover");						onFocusAnimate($(this));					}				}, function () { //on mouse out				});				$('#feature-sections').append(sectionSelector);				if (locationHash.length === 0) {					if (index === 0) {						sectionSelector.click();						loadSectionbyHash = false;					}				} else if (locationHash.substring(1).toLowerCase() === section.name.toLowerCase()) {					//Load the selected section by hash in url or retain the current page on refresh					loadSectionbyHash = false;					sectionSelector.click();				}			});			setUpEvents();		};		setUpEvents = function () {			$('#feature-sections').hover(function () { //on mouse over				//do nothing			}, function () {							//on mouse out				var divSections = $('#feature-sections .divSectionImage');				$.each(divSections, function (index, divSectionImage) {					if ($(divSectionImage).hasClass('selected')) {						onFocusAnimate($(divSectionImage));					}					else if ($(divSectionImage).hasClass('hover')) {						onFocusOutAnimate($(divSectionImage));						$(divSectionImage).removeClass('hover');					}				});			});			//Load the the default(Exterior) selected section if incorrect hash is entered by user on first request.			if (loadSectionbyHash) {				$('.divSectionImage')[0].click();			}		};		//When the film strip gets focus, the animation that is performed.		onFocusAnimate = function (divSectionImage) {			var imgSection = divSectionImage.children('img');			divSectionImage.stop().animate({				height: "70",				width : "92",				marginTop: "0"			}, 300);			imgSection.stop().animate({				height: "40",				width : "84"			}, 300);		};		//When the film strip gets out of focus, the animation that is performed.		onFocusOutAnimate = function (divSectionImage) {			var imgSection = divSectionImage.children('img');			divSectionImage.stop().animate({				height: "60",				width : "72",				marginTop: "10"			}, 300);			imgSection.stop().animate({				height: "30",				width : "64"			}, 300);		};		return {			render: function () {				generateFilmStrip();			},			imageNotFound : function (el, baseUrl) {				if ($(el).hasClass('loaded')) {					$(el).removeClass('loaded');				}				//if image is not found, the film strip image will be replaced by "No Image Available" image.				$(el).addClass('notloaded');				$(el).attr('src', baseUrl +'/No_Image.jpg');				$(el).css('background-color', '#FFFFFF');			}		};	};}(jQuery));